lessonPlan:
  - title: "Meet the Clock!"
    id: "grade3-math-time-meet-the-clock"
    steps:
      - title: "Warm-up: Clock Number Check"
        id: "warm-up-number-check"
        parts:
          - title: "Missing Number Check"
            id: "missing-number-check"
            voiceover: >-
              Welcome, time explorers! <break time="1.0s" /> Let's quickly check this clock. A few numbers are missing! <break time="1.0s" /> Can you type the correct number in each empty box?
            visuals_instructions: >-
              Layout: Top Banner (Instructions/Character), Center Stage (Clock), Bottom Bar (Nav/Progress).
                - Display a large analog clock face outline in the Center Stage.
                - Most numbers (1-12) are correctly placed.
                - Replace 2-3 non-adjacent numbers (e.g., 2, 5, 11) with empty input boxes. Ensure key anchors (12, 3, 6, 9) are present.
                - Character Guide ("Professor Tempo") appears in Top Banner delivering the prompt.
                - Interaction: Clicking an empty box reveals a simple number keypad overlay. Student types the number.
                - Feedback (Immediate):
                  - Correct: Input box fills permanently with the typed number, brief green checkmark animation (0.5s).
                  - Incorrect: Input box flashes red (0.5s), input clears, subtle "Try again!" text appears briefly near the box.
                - Completion: Once all boxes are correct, play a "Perfect!" animation (e.g., sparkling stars around the clock) and sound effect. Enable the 'Next' button.
                - Transition Text (Optional, near Next button): "Great! All numbers accounted for. Now let's learn about the parts of the clock!"
                - Progress Bar: Highlight "Warm-up" segment.

      - title: "Learn It: Clock Parts Explorer"
        id: "learn-clock-parts"
        parts:
          - title: "The Clock Face and Numbers"
            id: "learn-face-numbers"
            voiceover: >-
              This is a clock face! It helps us tell time. Look at the numbers. They go in order all the way around, starting from 1, then 2, 3... up to 12 at the very top. <break time="1.5s" /> Quick check! The numbers go in order. Click the number that comes right after the number 8.
            visuals_instructions: >-
              - Display the completed clock face from the warm-up.
              - As "clock face" is mentioned, subtly highlight the entire face outline (e.g., brief glow). Add "Clock Face" to the glossary with a visual indicator.
              - As numbers 1-12 are mentioned, animate a sequential highlight (e.g., brief glow or underline) for each number (0.3s per number).
              - Embedded Check Interaction: Make number 9 clickable. Other numbers non-interactive or provide incorrect feedback.
              - Feedback:
                - Correct (Clicking 9): Number 9 highlights green (1s), brief positive text (e.g., "Correct!").
                - Incorrect (Clicking other number): Clicked number highlights red (1s), brief negative sound. Character prompt/text: "Think about counting! What number comes after 8? Find it on the clock face and click it."
              - Progress Bar: Update "Learn: Face" segment to completed.

          - title: "The Hour and Minute Hands"
            id: "learn-hands"
            voiceover: >-
              See these pointers? They are called hands! <break time="1.0s" /> This short, blue hand is the Hour Hand. It tells us the hour. <break time="1.5s" /> This long, red hand is the Minute Hand. It tells us the minutes. <break time="1.5s" /> Easy way to remember: Hour hand is short, Minute hand is long! <break time="1.0s" /> Click on the Hour Hand (the short one). <break time="2.5s" /> Now, click on the Minute Hand (the long one).
            visuals_instructions: >-
              - Display the clock face with two hands clearly visible, set to a time like 3:00.
              - Hour Hand: Short, distinct color (e.g., blue).
              - Minute Hand: Long, distinct color (e.g., red).
              - As "Hour Hand" is mentioned: Highlight the short, blue hand (e.g., glow, bounce). Add "Hour Hand" to the glossary.
              - As "Minute Hand" is mentioned: Highlight the long, red hand. Add "Minute Hand" to the glossary.
              - Visual Comparison: Briefly show silhouettes or outlines of both hands side-by-side with "Short" and "Long" labels.
              - Embedded Check 1 (Click Hour Hand): Make the short hand clickable.
                - Feedback Correct: Short hand highlights green (1s). Character prompt/text: "Yes, that's the short Hour Hand!"
                - Feedback Incorrect (Clicking long hand): Long hand highlights red (1s). Character prompt/text: "Oops! Remember, the hour hand is the short one. Click the short hand." Allow retry.
              - Embedded Check 2 (Click Minute Hand): Make the long hand clickable.
                - Feedback Correct: Long hand highlights green (1s). Character prompt/text: "Correct! That's the long Minute Hand."
                - Feedback Incorrect (Clicking short hand): Short hand highlights red (1s). Character prompt/text: "Careful! The minute hand is the long one. Click the long hand." Allow retry.
              - Progress Bar: Update "Learn: Hands" segment to completed.

          - title: "Clockwise Direction"
            id: "learn-clockwise"
            voiceover: >-
              Watch how the hands move! They always go around in the same direction, past 1, 2, 3... This special direction is called Clockwise. <break time="1.5s" /> Which arrow shows the clockwise direction?
            visuals_instructions: >-
              - Display the clock face. Animate both hands moving smoothly together in the clockwise direction for one full rotation (adjust speed for clarity, ~5s).
              - As "Clockwise" is mentioned: Display a large, clear clockwise arrow symbol (↻) animating its path around the clock face or nearby. Add "Clockwise" to the glossary.
              - Embedded Check: Stop hand animation. Display two clearly separated clickable arrow symbols: Clockwise (↻) and Counter-clockwise (↺).
              - Feedback:
                - Correct (Clicking ↻): Clockwise arrow highlights green (1s), positive sound. Character prompt/text: "That's it!"
                - Incorrect (Clicking ↺): Counter-clockwise arrow highlights red (1s), negative sound. Character prompt/text: "Clockwise follows the numbers 1, 2, 3... Try again!" Allow retry.
              - Progress Bar: Update "Learn: Direction" segment to completed.

      - title: "Try It: Guided Hand Spotting"
        id: " hand. The minute hand is the longer one. Click the long hand." Allow re-attempt.

          - title: "Check Clockwise Motion (Guided)"
            id: "try-check-clockwise-motion"
            voiceover: >-
              Are they moving Clockwise? Click Yes or No.
            visuals_instructions: >-
              Screen: Display clock face. Animate hands moving clearly clockwise. Professor Tempo prompts. Display "Yes" / "No" buttons.
              Interaction: Click Yes or No button.
              Feedback (Explanatory):
                - Correct (Click Yes): Button highlights green, positive sound, text: "Correct! They are moving clockwise, following the numbers 1, 2, 3..." Advance/enable Next.
                - Incorrect (Click No): Button highlights red, gentle negative sound, text: "Look closely! They are following the numbers 1, 2, 3... That IS clockwise." Allow re-attempt (restart animation briefly if needed).

          - title: "Show Clockwise Direction (Guided)"
            id: "try-show-clockwise-direction"
            voiceover: >-
              Which way is clockwise? Drag the arrow around the clock in the clockwise direction.
            visuals_instructions: >-
              Screen: Display static clock face. Professor Tempo prompts. Provide a draggable arrow asset near the clock (e.g., at 12).
              Interaction: Student drags arrow tip around the clock face. System tracks drag direction.
              Feedback (Explanatory):
                - Correct Drag (Clockwise path, e.g., past 1, 2, 3): Path highlights green briefly upon release, positive sound, text: "Perfect! That's clockwise!" Advance/enable Next.
                - Incorrect Drag (Counter-clockwise path): Path highlights red briefly, gentle negative sound, text: "Not quite. Remember, clockwise follows the numbers around... Try dragging from 12 towards 1, 2, 3." Reset arrow position for re-attempt.
              Progress Bar: Update to show "Try It" segment completed.

      - title: "Do It: Clock Detective Practice"
        id: "do-it-detective-practice"
        parts:
          - title: "Independent Practice Problems"
            id: "independent-practice-problems"
            voiceover: >-
              Time to be a clock detective! Answer these questions about the clock hands and direction. Pay attention to the instructions for each problem.
            visuals_instructions: >-
              Format: Series of 6-8 problems presented one after another. Professor Tempo introduces section, then minimal guidance per problem.
              Variety: Use varied hand positions across quadrants, ensure hands clearly separated. Hand colors may be faded or removed (rely on length). Use MCQ, Click/Tap, True/False, Yes/No interaction types as listed in the plan (Problems 1-8).
              Problem Examples Implementation:
                1. (MCQ) Clock 2:30. "Which is Hour Hand?" Buttons: A (shows short hand icon/highlight), B (shows long hand icon/highlight).
                2. (Click/Tap) Clock 8:15. "Click the Minute Hand." Make hands clickable.
                3. (Click/Tap) Clock 10:50. "Click the Hour Hand." Make hands clickable.
                4. (T/F) Clock 4:45. "The red hand [or 'longer hand'] is the Minute Hand." True/False buttons.
                5. (Click/Tap) Clock 1:20. "Click the Hour Hand." Make hands clickable.
                6. (Click/Tap) Clock 7:05. "Click the Minute Hand." Make hands clickable.
                7. (Yes/No) Animation: Hands move clockwise. "Are these hands moving Clockwise?" Yes/No buttons.
                8. (Click/Tap) Show static ↻ and ↺ arrows. "Click the arrow that shows Clockwise." Make arrows clickable.
              Feedback (Explanatory - per problem):
                - Correct: Green check/highlight, positive sound, brief confirming text (e.g., "Correct!", "Yes, that's the minute hand!"). Optional: Award simple star graphic.
                - Incorrect: Red X/highlight, gentle negative sound, brief explanatory text specific to the error (e.g., "That's the hour hand. The minute hand is longer.", "Remember, clockwise follows the numbers."). Allow one retry per problem or move to next.
              Progress Bar: Update to show "Do It" segment completed.

      - title: "Show It: Clock Expert Check"
        id: "show-it-expert-check"
        parts:
          - title: "Mastery Assessment Questions"
            id: "mastery-assessment-questions"
            voiceover: >-
              Let's see what you've mastered! Show me you're a clock expert. Answer these questions carefully. No hints this time!
            visuals_instructions: >-
              Format: Present 4 assessment questions sequentially without hints. Track correct/incorrect. Professor Tempo introduces.
              Assessment Questions (Implement visually):
                1. (Click/Tap) Clock at 5:00. "Click the Hour Hand."
                2. (Click/Tap) Clock at 8:00. "Click the Minute Hand."
                3. (MCQ) Clock at 12:00 (hands distinguishable by length/style). "Which hand is LONGER?" Options: A ("Hour Hand"), B ("Minute Hand").
                4. (Yes/No) Animation: Hands move clockwise. "Is this Clockwise?" Yes/No buttons.
              Feedback:
                - Per Question: Simple immediate Correct checkmark or Incorrect X. No explanatory text.
                - End of Quiz: Display overall score (e.g., "You answered 3 out of 4 correctly!").
              Remediation Logic (Post-Quiz):
                - If >= 3 correct: Display celebratory message/badge ("Clock Expert!"). Enable 'Next' to Extension/End.
                - If < 3 correct: Display encouraging message ("Good try! Let's review."). Provide buttons/links targeting review based on errors (e.g., link to 'Learn: Hands' if hand ID was missed, link to 'Learn: Direction' if clockwise was missed, or link to 'Try It').
              Progress Bar: Update to show "Show It" segment completed.